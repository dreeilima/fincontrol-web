"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/transactions/route";
exports.ids = ["app/api/transactions/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "@prisma/client/runtime/library":
/*!*************************************************!*\
  !*** external "@prisma/client/runtime/library" ***!
  \*************************************************/
/***/ ((module) => {

module.exports = require("@prisma/client/runtime/library");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftransactions%2Froute&page=%2Fapi%2Ftransactions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftransactions%2Froute.ts&appDir=C%3A%5Cwww%5Cfincontrol-web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cwww%5Cfincontrol-web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftransactions%2Froute&page=%2Fapi%2Ftransactions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftransactions%2Froute.ts&appDir=C%3A%5Cwww%5Cfincontrol-web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cwww%5Cfincontrol-web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_www_fincontrol_web_app_api_transactions_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/transactions/route.ts */ \"(rsc)/./app/api/transactions/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/transactions/route\",\n        pathname: \"/api/transactions\",\n        filename: \"route\",\n        bundlePath: \"app/api/transactions/route\"\n    },\n    resolvedPagePath: \"C:\\\\www\\\\fincontrol-web\\\\app\\\\api\\\\transactions\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_www_fincontrol_web_app_api_transactions_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/transactions/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ0cmFuc2FjdGlvbnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnRyYW5zYWN0aW9ucyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnRyYW5zYWN0aW9ucyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDd3d3JTVDZmluY29udHJvbC13ZWIlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUN3d3clNUNmaW5jb250cm9sLXdlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDUztBQUN0RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmNvbnRyb2wvPzhlZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcd3d3XFxcXGZpbmNvbnRyb2wtd2ViXFxcXGFwcFxcXFxhcGlcXFxcdHJhbnNhY3Rpb25zXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS90cmFuc2FjdGlvbnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS90cmFuc2FjdGlvbnNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3RyYW5zYWN0aW9ucy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXHd3d1xcXFxmaW5jb250cm9sLXdlYlxcXFxhcHBcXFxcYXBpXFxcXHRyYW5zYWN0aW9uc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdHJhbnNhY3Rpb25zL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftransactions%2Froute&page=%2Fapi%2Ftransactions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftransactions%2Froute.ts&appDir=C%3A%5Cwww%5Cfincontrol-web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cwww%5Cfincontrol-web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/transactions/route.ts":
/*!***************************************!*\
  !*** ./app/api/transactions/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/auth */ \"(rsc)/./auth.ts\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\n\n\n\nasync function POST(req) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_3__.getServerSession)(_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(\"N\\xe3o autorizado\", {\n                status: 401\n            });\n        }\n        // Verificar limite de transações\n        const userSubscription = await _lib_db__WEBPACK_IMPORTED_MODULE_4__.db.subscriptions.findFirst({\n            where: {\n                user_id: session.user.id,\n                status: \"active\"\n            },\n            include: {\n                plan: true\n            }\n        });\n        // Se o usuário não tem um plano premium, verificamos os limites\n        if (!userSubscription || userSubscription.plan?.price === 0) {\n            // Buscar configurações do sistema para obter o limite de transações\n            const settings = await _lib_db__WEBPACK_IMPORTED_MODULE_4__.db.system_settings.findFirst();\n            const maxTransactions = settings?.max_transactions || 100; // Valor padrão se não existir configuração\n            // Contar transações do mês atual\n            const startOfMonth = new Date();\n            startOfMonth.setDate(1);\n            startOfMonth.setHours(0, 0, 0, 0);\n            const transactionsCount = await _lib_db__WEBPACK_IMPORTED_MODULE_4__.db.transactions.count({\n                where: {\n                    user_id: session.user.id,\n                    created_at: {\n                        gte: startOfMonth\n                    }\n                }\n            });\n            if (transactionsCount >= maxTransactions) {\n                return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(`Limite de ${maxTransactions} transações atingido para este mês. Atualize para o plano Premium para transações ilimitadas.`, {\n                    status: 403\n                });\n            }\n        }\n        const body = await req.json();\n        // Buscar a categoria para obter o nome\n        const category = await _lib_db__WEBPACK_IMPORTED_MODULE_4__.db.categories.findUnique({\n            where: {\n                id: body.categoryId\n            },\n            select: {\n                name: true\n            }\n        });\n        if (!category) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(\"Categoria n\\xe3o encontrada\", {\n                status: 404\n            });\n        }\n        // Garantir que o amount seja um número válido\n        let amount = body.amount;\n        if (typeof amount === \"string\") {\n            // Substituir vírgula por ponto se necessário\n            amount = amount.replace(\",\", \".\");\n            // Converter para número\n            amount = parseFloat(amount);\n            if (isNaN(amount)) {\n                return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(\"Valor inv\\xe1lido\", {\n                    status: 400\n                });\n            }\n        }\n        // Criar a transação com um ID gerado\n        const transaction = await _lib_db__WEBPACK_IMPORTED_MODULE_4__.db.transactions.create({\n            data: {\n                id: crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID(),\n                ...body,\n                amount,\n                category: category.name,\n                user_id: session.user.id\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json(transaction);\n    } catch (error) {\n        console.error(\"[TRANSACTIONS_POST]\", error);\n        return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(\"Erro interno\", {\n            status: 500\n        });\n    }\n}\nasync function GET(req) {\n    try {\n        const session = await (0,_auth__WEBPACK_IMPORTED_MODULE_2__.auth)();\n        const { searchParams } = new URL(req.url);\n        const from = searchParams.get(\"from\");\n        const to = searchParams.get(\"to\");\n        const type = searchParams.get(\"type\");\n        const category = searchParams.get(\"category\");\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"8\");\n        const skip = (page - 1) * limit;\n        if (!session?.user?.id) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(\"Unauthorized\", {\n                status: 401\n            });\n        }\n        // Construir a cláusula where\n        const where = {\n            user_id: session.user.id,\n            date: {\n                gte: from ? new Date(from) : undefined,\n                lte: to ? new Date(to) : undefined\n            },\n            type: type || undefined,\n            categoryId: category || undefined\n        };\n        // Buscar total de transações para paginação\n        const total = await _lib_db__WEBPACK_IMPORTED_MODULE_4__.db.transactions.count({\n            where\n        });\n        const transactions = await _lib_db__WEBPACK_IMPORTED_MODULE_4__.db.transactions.findMany({\n            where,\n            orderBy: [\n                {\n                    date: \"desc\"\n                },\n                {\n                    created_at: \"desc\"\n                },\n                {\n                    id: \"desc\"\n                }\n            ],\n            include: {\n                categories: true\n            },\n            take: limit,\n            skip\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            transactions,\n            pagination: {\n                total,\n                page,\n                limit,\n                totalPages: Math.ceil(total / limit)\n            }\n        });\n    } catch (error) {\n        console.error(\"[TRANSACTIONS_GET]\", error);\n        return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(\"Internal Error\", {\n            status: 500\n        });\n    }\n}\nasync function PUT(req) {\n    try {\n        const session = await (0,_auth__WEBPACK_IMPORTED_MODULE_2__.auth)();\n        if (!session?.user) {\n            return new Response(\"Unauthorized\", {\n                status: 401\n            });\n        }\n        const body = await req.json();\n        const { id } = body;\n        // Buscar a categoria para obter o nome\n        const category = await _lib_db__WEBPACK_IMPORTED_MODULE_4__.db.categories.findFirst({\n            where: {\n                user_id: session.user.id,\n                id: body.categoryId\n            }\n        });\n        if (!category) {\n            return new Response(\"Category not found\", {\n                status: 404\n            });\n        }\n        // Garantir que o amount seja um número válido\n        let amount = body.amount;\n        if (typeof amount === \"string\") {\n            // Substituir vírgula por ponto se necessário\n            amount = amount.replace(\",\", \".\");\n            // Converter para número\n            amount = parseFloat(amount);\n            if (isNaN(amount)) {\n                return new Response(\"Valor inv\\xe1lido\", {\n                    status: 400\n                });\n            }\n        }\n        const date = new Date(`${body.date}T03:00:00.000Z`);\n        const transaction = await _lib_db__WEBPACK_IMPORTED_MODULE_4__.db.transactions.update({\n            where: {\n                id,\n                user_id: session.user.id\n            },\n            data: {\n                ...body,\n                amount,\n                category: category.name,\n                categoryId: category.id,\n                date,\n                updated_at: new Date()\n            },\n            include: {\n                categories: true\n            }\n        });\n        return new Response(JSON.stringify(transaction));\n    } catch (error) {\n        console.error(\"[TRANSACTION_PUT]\", error);\n        return new Response(\"Internal Server Error\", {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NkNBQTZDO1lBQzdDQSxTQUFTQSxPQUFPQyxPQUFPLENBQUMsS0FBSztZQUM3Qix3QkFBd0I7WUFDeEJELFNBQVNFLFdBQVdGO1lBRXBCLElBQUlHLE1BQU1ILFNBQVM7Z0JBQ2pCLE9BQU8sSUFBSWtDLFNBQVMscUJBQWtCO29CQUFFakUsUUFBUTtnQkFBSTtZQUN0RDtRQUNGO1FBRUEsTUFBTXFELE9BQU8sSUFBSXRDLEtBQUssQ0FBQyxFQUFFUSxLQUFLOEIsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUVsRCxNQUFNbEIsY0FBYyxNQUFNeEMsdUNBQUVBLENBQUN3QixZQUFZLENBQUMrQyxNQUFNLENBQUM7WUFDL0M5RCxPQUFPO2dCQUNMRTtnQkFDQUQsU0FBU1AsUUFBUUMsSUFBSSxDQUFDTyxFQUFFO1lBQzFCO1lBQ0ErQixNQUFNO2dCQUNKLEdBQUdkLElBQUk7Z0JBQ1BRO2dCQUNBTixVQUFVQSxTQUFTSyxJQUFJO2dCQUN2QkYsWUFBWUgsU0FBU25CLEVBQUU7Z0JBQ3ZCK0M7Z0JBQ0FjLFlBQVksSUFBSXBEO1lBQ2xCO1lBQ0FSLFNBQVM7Z0JBQ1BtQixZQUFZO1lBQ2Q7UUFDRjtRQUVBLE9BQU8sSUFBSXVDLFNBQVNHLEtBQUtDLFNBQVMsQ0FBQ2xDO0lBQ3JDLEVBQUUsT0FBT0ksT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMscUJBQXFCQTtRQUNuQyxPQUFPLElBQUkwQixTQUFTLHlCQUF5QjtZQUFFakUsUUFBUTtRQUFJO0lBQzdEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maW5jb250cm9sLy4vYXBwL2FwaS90cmFuc2FjdGlvbnMvcm91dGUudHM/NzcyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcclxuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcbmltcG9ydCB7IGF1dGgsIGF1dGhPcHRpb25zIH0gZnJvbSBcIkAvYXV0aFwiO1xyXG5pbXBvcnQgeyBEZWNpbWFsIH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50L3J1bnRpbWUvbGlicmFyeVwiO1xyXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xyXG5cclxuaW1wb3J0IHsgZGIgfSBmcm9tIFwiQC9saWIvZGJcIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXIpIHtcclxuICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoXCJOw6NvIGF1dG9yaXphZG9cIiwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZmljYXIgbGltaXRlIGRlIHRyYW5zYcOnw7Vlc1xyXG4gICAgY29uc3QgdXNlclN1YnNjcmlwdGlvbiA9IGF3YWl0IGRiLnN1YnNjcmlwdGlvbnMuZmluZEZpcnN0KHtcclxuICAgICAgd2hlcmU6IHtcclxuICAgICAgICB1c2VyX2lkOiBzZXNzaW9uLnVzZXIuaWQsXHJcbiAgICAgICAgc3RhdHVzOiBcImFjdGl2ZVwiLFxyXG4gICAgICB9LFxyXG4gICAgICBpbmNsdWRlOiB7IHBsYW46IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNlIG8gdXN1w6FyaW8gbsOjbyB0ZW0gdW0gcGxhbm8gcHJlbWl1bSwgdmVyaWZpY2Ftb3Mgb3MgbGltaXRlc1xyXG4gICAgaWYgKCF1c2VyU3Vic2NyaXB0aW9uIHx8IHVzZXJTdWJzY3JpcHRpb24ucGxhbj8ucHJpY2UgPT09IDApIHtcclxuICAgICAgLy8gQnVzY2FyIGNvbmZpZ3VyYcOnw7VlcyBkbyBzaXN0ZW1hIHBhcmEgb2J0ZXIgbyBsaW1pdGUgZGUgdHJhbnNhw6fDtWVzXHJcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gYXdhaXQgZGIuc3lzdGVtX3NldHRpbmdzLmZpbmRGaXJzdCgpO1xyXG4gICAgICBjb25zdCBtYXhUcmFuc2FjdGlvbnMgPSBzZXR0aW5ncz8ubWF4X3RyYW5zYWN0aW9ucyB8fCAxMDA7IC8vIFZhbG9yIHBhZHLDo28gc2UgbsOjbyBleGlzdGlyIGNvbmZpZ3VyYcOnw6NvXHJcblxyXG4gICAgICAvLyBDb250YXIgdHJhbnNhw6fDtWVzIGRvIG3DqnMgYXR1YWxcclxuICAgICAgY29uc3Qgc3RhcnRPZk1vbnRoID0gbmV3IERhdGUoKTtcclxuICAgICAgc3RhcnRPZk1vbnRoLnNldERhdGUoMSk7XHJcbiAgICAgIHN0YXJ0T2ZNb250aC5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuXHJcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uc0NvdW50ID0gYXdhaXQgZGIudHJhbnNhY3Rpb25zLmNvdW50KHtcclxuICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgdXNlcl9pZDogc2Vzc2lvbi51c2VyLmlkLFxyXG4gICAgICAgICAgY3JlYXRlZF9hdDoge1xyXG4gICAgICAgICAgICBndGU6IHN0YXJ0T2ZNb250aCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAodHJhbnNhY3Rpb25zQ291bnQgPj0gbWF4VHJhbnNhY3Rpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoXHJcbiAgICAgICAgICBgTGltaXRlIGRlICR7bWF4VHJhbnNhY3Rpb25zfSB0cmFuc2HDp8O1ZXMgYXRpbmdpZG8gcGFyYSBlc3RlIG3DqnMuIEF0dWFsaXplIHBhcmEgbyBwbGFubyBQcmVtaXVtIHBhcmEgdHJhbnNhw6fDtWVzIGlsaW1pdGFkYXMuYCxcclxuICAgICAgICAgIHsgc3RhdHVzOiA0MDMgfSxcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcblxyXG4gICAgLy8gQnVzY2FyIGEgY2F0ZWdvcmlhIHBhcmEgb2J0ZXIgbyBub21lXHJcbiAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IGRiLmNhdGVnb3JpZXMuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBib2R5LmNhdGVnb3J5SWQgfSxcclxuICAgICAgc2VsZWN0OiB7IG5hbWU6IHRydWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghY2F0ZWdvcnkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoXCJDYXRlZ29yaWEgbsOjbyBlbmNvbnRyYWRhXCIsIHsgc3RhdHVzOiA0MDQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2FyYW50aXIgcXVlIG8gYW1vdW50IHNlamEgdW0gbsO6bWVybyB2w6FsaWRvXHJcbiAgICBsZXQgYW1vdW50ID0gYm9keS5hbW91bnQ7XHJcbiAgICBpZiAodHlwZW9mIGFtb3VudCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAvLyBTdWJzdGl0dWlyIHbDrXJndWxhIHBvciBwb250byBzZSBuZWNlc3PDoXJpb1xyXG4gICAgICBhbW91bnQgPSBhbW91bnQucmVwbGFjZShcIixcIiwgXCIuXCIpO1xyXG4gICAgICAvLyBDb252ZXJ0ZXIgcGFyYSBuw7ptZXJvXHJcbiAgICAgIGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50KTtcclxuXHJcbiAgICAgIGlmIChpc05hTihhbW91bnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoXCJWYWxvciBpbnbDoWxpZG9cIiwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyaWFyIGEgdHJhbnNhw6fDo28gY29tIHVtIElEIGdlcmFkb1xyXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCBkYi50cmFuc2FjdGlvbnMuY3JlYXRlKHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLCAvLyBHZXJhciB1bSBJRCDDum5pY29cclxuICAgICAgICAuLi5ib2R5LFxyXG4gICAgICAgIGFtb3VudCwgLy8gVXNhciBvIHZhbG9yIGNvbnZlcnRpZG9cclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnkubmFtZSwgLy8gQWRpY2lvbmFyIG8gbm9tZSBkYSBjYXRlZ29yaWFcclxuICAgICAgICB1c2VyX2lkOiBzZXNzaW9uLnVzZXIuaWQsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24odHJhbnNhY3Rpb24pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW1RSQU5TQUNUSU9OU19QT1NUXVwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShcIkVycm8gaW50ZXJub1wiLCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXE6IFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGF1dGgoKTtcclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcS51cmwpO1xyXG5cclxuICAgIGNvbnN0IGZyb20gPSBzZWFyY2hQYXJhbXMuZ2V0KFwiZnJvbVwiKTtcclxuICAgIGNvbnN0IHRvID0gc2VhcmNoUGFyYW1zLmdldChcInRvXCIpO1xyXG4gICAgY29uc3QgdHlwZSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJ0eXBlXCIpO1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBzZWFyY2hQYXJhbXMuZ2V0KFwiY2F0ZWdvcnlcIik7XHJcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldChcInBhZ2VcIikgfHwgXCIxXCIpO1xyXG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KFwibGltaXRcIikgfHwgXCI4XCIpO1xyXG4gICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcclxuXHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XHJcbiAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiVW5hdXRob3JpemVkXCIsIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29uc3RydWlyIGEgY2zDoXVzdWxhIHdoZXJlXHJcbiAgICBjb25zdCB3aGVyZSA9IHtcclxuICAgICAgdXNlcl9pZDogc2Vzc2lvbi51c2VyLmlkLFxyXG4gICAgICBkYXRlOiB7XHJcbiAgICAgICAgZ3RlOiBmcm9tID8gbmV3IERhdGUoZnJvbSkgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgbHRlOiB0byA/IG5ldyBEYXRlKHRvKSA6IHVuZGVmaW5lZCxcclxuICAgICAgfSxcclxuICAgICAgdHlwZTogdHlwZSB8fCB1bmRlZmluZWQsXHJcbiAgICAgIGNhdGVnb3J5SWQ6IGNhdGVnb3J5IHx8IHVuZGVmaW5lZCxcclxuICAgIH07XHJcblxyXG4gICAgLy8gQnVzY2FyIHRvdGFsIGRlIHRyYW5zYcOnw7VlcyBwYXJhIHBhZ2luYcOnw6NvXHJcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IGRiLnRyYW5zYWN0aW9ucy5jb3VudCh7XHJcbiAgICAgIHdoZXJlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdHJhbnNhY3Rpb25zID0gYXdhaXQgZGIudHJhbnNhY3Rpb25zLmZpbmRNYW55KHtcclxuICAgICAgd2hlcmUsXHJcbiAgICAgIG9yZGVyQnk6IFt7IGRhdGU6IFwiZGVzY1wiIH0sIHsgY3JlYXRlZF9hdDogXCJkZXNjXCIgfSwgeyBpZDogXCJkZXNjXCIgfV0sXHJcbiAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICBjYXRlZ29yaWVzOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICB0YWtlOiBsaW1pdCxcclxuICAgICAgc2tpcCxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHRyYW5zYWN0aW9ucyxcclxuICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgIHRvdGFsLFxyXG4gICAgICAgIHBhZ2UsXHJcbiAgICAgICAgbGltaXQsXHJcbiAgICAgICAgdG90YWxQYWdlczogTWF0aC5jZWlsKHRvdGFsIC8gbGltaXQpLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbVFJBTlNBQ1RJT05TX0dFVF1cIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoXCJJbnRlcm5hbCBFcnJvclwiLCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXE6IFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGF1dGgoKTtcclxuICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xyXG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiVW5hdXRob3JpemVkXCIsIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcbiAgICBjb25zdCB7IGlkIH0gPSBib2R5O1xyXG5cclxuICAgIC8vIEJ1c2NhciBhIGNhdGVnb3JpYSBwYXJhIG9idGVyIG8gbm9tZVxyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBkYi5jYXRlZ29yaWVzLmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgdXNlcl9pZDogc2Vzc2lvbi51c2VyLmlkLFxyXG4gICAgICAgIGlkOiBib2R5LmNhdGVnb3J5SWQsIC8vIFVzYSBvIGNhdGVnb3J5SWQgcmVjZWJpZG9cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghY2F0ZWdvcnkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIkNhdGVnb3J5IG5vdCBmb3VuZFwiLCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdhcmFudGlyIHF1ZSBvIGFtb3VudCBzZWphIHVtIG7Dum1lcm8gdsOhbGlkb1xyXG4gICAgbGV0IGFtb3VudCA9IGJvZHkuYW1vdW50O1xyXG4gICAgaWYgKHR5cGVvZiBhbW91bnQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgLy8gU3Vic3RpdHVpciB2w61yZ3VsYSBwb3IgcG9udG8gc2UgbmVjZXNzw6FyaW9cclxuICAgICAgYW1vdW50ID0gYW1vdW50LnJlcGxhY2UoXCIsXCIsIFwiLlwiKTtcclxuICAgICAgLy8gQ29udmVydGVyIHBhcmEgbsO6bWVyb1xyXG4gICAgICBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudCk7XHJcblxyXG4gICAgICBpZiAoaXNOYU4oYW1vdW50KSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXCJWYWxvciBpbnbDoWxpZG9cIiwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShgJHtib2R5LmRhdGV9VDAzOjAwOjAwLjAwMFpgKTtcclxuXHJcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IGRiLnRyYW5zYWN0aW9ucy51cGRhdGUoe1xyXG4gICAgICB3aGVyZToge1xyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIHVzZXJfaWQ6IHNlc3Npb24udXNlci5pZCxcclxuICAgICAgfSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIC4uLmJvZHksXHJcbiAgICAgICAgYW1vdW50LCAvLyBVc2FyIG8gdmFsb3IgY29udmVydGlkb1xyXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeS5uYW1lLCAvLyBBdHVhbGl6YSBvIG5vbWUgZGEgY2F0ZWdvcmlhXHJcbiAgICAgICAgY2F0ZWdvcnlJZDogY2F0ZWdvcnkuaWQsIC8vIEF0dWFsaXphIG8gSUQgZGEgY2F0ZWdvcmlhXHJcbiAgICAgICAgZGF0ZSxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9LFxyXG4gICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgY2F0ZWdvcmllczogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkodHJhbnNhY3Rpb24pKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIltUUkFOU0FDVElPTl9QVVRdXCIsIGVycm9yKTtcclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIiwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImNyeXB0byIsIk5leHRSZXNwb25zZSIsImF1dGgiLCJhdXRoT3B0aW9ucyIsImdldFNlcnZlclNlc3Npb24iLCJkYiIsIlBPU1QiLCJyZXEiLCJzZXNzaW9uIiwidXNlciIsInN0YXR1cyIsInVzZXJTdWJzY3JpcHRpb24iLCJzdWJzY3JpcHRpb25zIiwiZmluZEZpcnN0Iiwid2hlcmUiLCJ1c2VyX2lkIiwiaWQiLCJpbmNsdWRlIiwicGxhbiIsInByaWNlIiwic2V0dGluZ3MiLCJzeXN0ZW1fc2V0dGluZ3MiLCJtYXhUcmFuc2FjdGlvbnMiLCJtYXhfdHJhbnNhY3Rpb25zIiwic3RhcnRPZk1vbnRoIiwiRGF0ZSIsInNldERhdGUiLCJzZXRIb3VycyIsInRyYW5zYWN0aW9uc0NvdW50IiwidHJhbnNhY3Rpb25zIiwiY291bnQiLCJjcmVhdGVkX2F0IiwiZ3RlIiwiYm9keSIsImpzb24iLCJjYXRlZ29yeSIsImNhdGVnb3JpZXMiLCJmaW5kVW5pcXVlIiwiY2F0ZWdvcnlJZCIsInNlbGVjdCIsIm5hbWUiLCJhbW91bnQiLCJyZXBsYWNlIiwicGFyc2VGbG9hdCIsImlzTmFOIiwidHJhbnNhY3Rpb24iLCJjcmVhdGUiLCJkYXRhIiwicmFuZG9tVVVJRCIsImVycm9yIiwiY29uc29sZSIsIkdFVCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImZyb20iLCJnZXQiLCJ0byIsInR5cGUiLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsInNraXAiLCJkYXRlIiwidW5kZWZpbmVkIiwibHRlIiwidG90YWwiLCJmaW5kTWFueSIsIm9yZGVyQnkiLCJ0YWtlIiwicGFnaW5hdGlvbiIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsIlBVVCIsIlJlc3BvbnNlIiwidXBkYXRlIiwidXBkYXRlZF9hdCIsIkpTT04iLCJzdHJpbmdpZnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/transactions/route.ts\n");

/***/ }),

/***/ "(rsc)/./auth.config.ts":
/*!************************!*\
  !*** ./auth.config.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authConfig: () => (/* binding */ authConfig)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\n\n\nconst authConfig = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            async authorize (credentials) {\n                const parsedCredentials = zod__WEBPACK_IMPORTED_MODULE_3__.z.object({\n                    email: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().email(),\n                    password: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().min(6)\n                }).safeParse(credentials);\n                if (!parsedCredentials.success) return null;\n                const { email, password } = parsedCredentials.data;\n                const user = await _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.users.findUnique({\n                    where: {\n                        email\n                    }\n                });\n                if (!user || !await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_0__.compare)(password, user.password)) return null;\n                return {\n                    id: user.id,\n                    name: user.name,\n                    email: user.email,\n                    role: user.role === \"ADMIN\" ? \"admin\" : \"user\",\n                    phone: user.phone,\n                    stripe_customer_id: user.stripe_customer_id ?? null,\n                    stripe_subscription_id: user.stripe_subscription_id ?? null,\n                    stripe_price_id: user.stripe_price_id ?? null,\n                    stripe_current_period_end: user.stripe_current_period_end ?? null,\n                    image: null,\n                    token: user.id\n                };\n            }\n        })\n    ],\n    callbacks: {\n        async session ({ session, token }) {\n            session.user = {\n                ...session.user,\n                id: token.id,\n                name: token.name,\n                email: token.email,\n                role: token.role,\n                phone: token.phone,\n                stripe_customer_id: token.stripe_customer_id,\n                stripe_subscription_id: token.stripe_subscription_id,\n                stripe_price_id: token.stripe_price_id,\n                stripe_current_period_end: token.stripe_current_period_end\n            };\n            return session;\n        },\n        async jwt ({ token, user }) {\n            if (user) {\n                token = {\n                    ...token,\n                    ...user\n                };\n            }\n            return token;\n        }\n    },\n    pages: {\n        signIn: \"/login\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hdXRoLmNvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFtQztBQUV1QjtBQUNsQztBQUVNO0FBRXZCLE1BQU1JLGFBQWE7SUFDeEJDLFdBQVc7UUFDVEosMkVBQVdBLENBQUM7WUFDVixNQUFNSyxXQUFVQyxXQUFXO2dCQUN6QixNQUFNQyxvQkFBb0JOLGtDQUFDQSxDQUN4Qk8sTUFBTSxDQUFDO29CQUFFQyxPQUFPUixrQ0FBQ0EsQ0FBQ1MsTUFBTSxHQUFHRCxLQUFLO29CQUFJRSxVQUFVVixrQ0FBQ0EsQ0FBQ1MsTUFBTSxHQUFHRSxHQUFHLENBQUM7Z0JBQUcsR0FDaEVDLFNBQVMsQ0FBQ1A7Z0JBRWIsSUFBSSxDQUFDQyxrQkFBa0JPLE9BQU8sRUFBRSxPQUFPO2dCQUV2QyxNQUFNLEVBQUVMLEtBQUssRUFBRUUsUUFBUSxFQUFFLEdBQUdKLGtCQUFrQlEsSUFBSTtnQkFDbEQsTUFBTUMsT0FBTyxNQUFNZCx1Q0FBRUEsQ0FBQ2UsS0FBSyxDQUFDQyxVQUFVLENBQUM7b0JBQUVDLE9BQU87d0JBQUVWO29CQUFNO2dCQUFFO2dCQUMxRCxJQUFJLENBQUNPLFFBQVEsQ0FBRSxNQUFNakIsaURBQU9BLENBQUNZLFVBQVVLLEtBQUtMLFFBQVEsR0FBSSxPQUFPO2dCQUUvRCxPQUFPO29CQUNMUyxJQUFJSixLQUFLSSxFQUFFO29CQUNYQyxNQUFNTCxLQUFLSyxJQUFJO29CQUNmWixPQUFPTyxLQUFLUCxLQUFLO29CQUNqQmEsTUFBTU4sS0FBS00sSUFBSSxLQUFLLFVBQVUsVUFBVTtvQkFDeENDLE9BQU9QLEtBQUtPLEtBQUs7b0JBQ2pCQyxvQkFBb0JSLEtBQUtRLGtCQUFrQixJQUFJO29CQUMvQ0Msd0JBQXdCVCxLQUFLUyxzQkFBc0IsSUFBSTtvQkFDdkRDLGlCQUFpQlYsS0FBS1UsZUFBZSxJQUFJO29CQUN6Q0MsMkJBQTJCWCxLQUFLVyx5QkFBeUIsSUFBSTtvQkFDN0RDLE9BQU87b0JBQ1BDLE9BQU9iLEtBQUtJLEVBQUU7Z0JBQ2hCO1lBQ0Y7UUFDRjtLQUNEO0lBQ0RVLFdBQVc7UUFDVCxNQUFNQyxTQUFRLEVBQUVBLE9BQU8sRUFBRUYsS0FBSyxFQUFFO1lBQzlCRSxRQUFRZixJQUFJLEdBQUc7Z0JBQ2IsR0FBR2UsUUFBUWYsSUFBSTtnQkFDZkksSUFBSVMsTUFBTVQsRUFBRTtnQkFDWkMsTUFBTVEsTUFBTVIsSUFBSTtnQkFDaEJaLE9BQU9vQixNQUFNcEIsS0FBSztnQkFDbEJhLE1BQU1PLE1BQU1QLElBQUk7Z0JBQ2hCQyxPQUFPTSxNQUFNTixLQUFLO2dCQUNsQkMsb0JBQW9CSyxNQUFNTCxrQkFBa0I7Z0JBQzVDQyx3QkFBd0JJLE1BQU1KLHNCQUFzQjtnQkFDcERDLGlCQUFpQkcsTUFBTUgsZUFBZTtnQkFDdENDLDJCQUNFRSxNQUFNRix5QkFBeUI7WUFDbkM7WUFDQSxPQUFPSTtRQUNUO1FBQ0EsTUFBTUMsS0FBSSxFQUFFSCxLQUFLLEVBQUViLElBQUksRUFBRTtZQUN2QixJQUFJQSxNQUFNO2dCQUNSYSxRQUFRO29CQUFFLEdBQUdBLEtBQUs7b0JBQUUsR0FBR2IsSUFBSTtnQkFBQztZQUM5QjtZQUNBLE9BQU9hO1FBQ1Q7SUFDRjtJQUNBSSxPQUFPO1FBQ0xDLFFBQVE7SUFDVjtBQUNGLEVBQTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmluY29udHJvbC8uL2F1dGguY29uZmlnLnRzPzQzMDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gXCJiY3J5cHRqc1wiO1xyXG5pbXBvcnQgdHlwZSB7IE5leHRBdXRoQ29uZmlnIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xyXG5pbXBvcnQgQ3JlZGVudGlhbHMgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHNcIjtcclxuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcclxuXHJcbmltcG9ydCB7IGRiIH0gZnJvbSBcIkAvbGliL2RiXCI7XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aENvbmZpZyA9IHtcclxuICBwcm92aWRlcnM6IFtcclxuICAgIENyZWRlbnRpYWxzKHtcclxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XHJcbiAgICAgICAgY29uc3QgcGFyc2VkQ3JlZGVudGlhbHMgPSB6XHJcbiAgICAgICAgICAub2JqZWN0KHsgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKSwgcGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDYpIH0pXHJcbiAgICAgICAgICAuc2FmZVBhcnNlKGNyZWRlbnRpYWxzKTtcclxuXHJcbiAgICAgICAgaWYgKCFwYXJzZWRDcmVkZW50aWFscy5zdWNjZXNzKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHBhcnNlZENyZWRlbnRpYWxzLmRhdGE7XHJcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLnVzZXJzLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBlbWFpbCB9IH0pO1xyXG4gICAgICAgIGlmICghdXNlciB8fCAhKGF3YWl0IGNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogdXNlci5pZCxcclxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgcm9sZTogdXNlci5yb2xlID09PSBcIkFETUlOXCIgPyBcImFkbWluXCIgOiBcInVzZXJcIixcclxuICAgICAgICAgIHBob25lOiB1c2VyLnBob25lLFxyXG4gICAgICAgICAgc3RyaXBlX2N1c3RvbWVyX2lkOiB1c2VyLnN0cmlwZV9jdXN0b21lcl9pZCA/PyBudWxsLFxyXG4gICAgICAgICAgc3RyaXBlX3N1YnNjcmlwdGlvbl9pZDogdXNlci5zdHJpcGVfc3Vic2NyaXB0aW9uX2lkID8/IG51bGwsXHJcbiAgICAgICAgICBzdHJpcGVfcHJpY2VfaWQ6IHVzZXIuc3RyaXBlX3ByaWNlX2lkID8/IG51bGwsXHJcbiAgICAgICAgICBzdHJpcGVfY3VycmVudF9wZXJpb2RfZW5kOiB1c2VyLnN0cmlwZV9jdXJyZW50X3BlcmlvZF9lbmQgPz8gbnVsbCxcclxuICAgICAgICAgIGltYWdlOiBudWxsLFxyXG4gICAgICAgICAgdG9rZW46IHVzZXIuaWQsIC8vIEFkZGVkIHRva2VuIGZpZWxkIHRvIG1hdGNoIFVzZXIgaW50ZXJmYWNlXHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuICAgIH0pLFxyXG4gIF0sXHJcbiAgY2FsbGJhY2tzOiB7XHJcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xyXG4gICAgICBzZXNzaW9uLnVzZXIgPSB7XHJcbiAgICAgICAgLi4uc2Vzc2lvbi51c2VyLFxyXG4gICAgICAgIGlkOiB0b2tlbi5pZCBhcyBzdHJpbmcsXHJcbiAgICAgICAgbmFtZTogdG9rZW4ubmFtZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgZW1haWw6IHRva2VuLmVtYWlsIGFzIHN0cmluZyxcclxuICAgICAgICByb2xlOiB0b2tlbi5yb2xlIGFzIFwiYWRtaW5cIiB8IFwidXNlclwiLFxyXG4gICAgICAgIHBob25lOiB0b2tlbi5waG9uZSBhcyBzdHJpbmcsXHJcbiAgICAgICAgc3RyaXBlX2N1c3RvbWVyX2lkOiB0b2tlbi5zdHJpcGVfY3VzdG9tZXJfaWQgYXMgc3RyaW5nIHwgbnVsbCxcclxuICAgICAgICBzdHJpcGVfc3Vic2NyaXB0aW9uX2lkOiB0b2tlbi5zdHJpcGVfc3Vic2NyaXB0aW9uX2lkIGFzIHN0cmluZyB8IG51bGwsXHJcbiAgICAgICAgc3RyaXBlX3ByaWNlX2lkOiB0b2tlbi5zdHJpcGVfcHJpY2VfaWQgYXMgc3RyaW5nIHwgbnVsbCxcclxuICAgICAgICBzdHJpcGVfY3VycmVudF9wZXJpb2RfZW5kOlxyXG4gICAgICAgICAgdG9rZW4uc3RyaXBlX2N1cnJlbnRfcGVyaW9kX2VuZCBhcyBEYXRlIHwgbnVsbCxcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIHNlc3Npb247XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHRva2VuID0geyAuLi50b2tlbiwgLi4udXNlciB9O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgfSxcclxuICBwYWdlczoge1xyXG4gICAgc2lnbkluOiBcIi9sb2dpblwiLFxyXG4gIH0sXHJcbn0gc2F0aXNmaWVzIE5leHRBdXRoQ29uZmlnO1xyXG4iXSwibmFtZXMiOlsiY29tcGFyZSIsIkNyZWRlbnRpYWxzIiwieiIsImRiIiwiYXV0aENvbmZpZyIsInByb3ZpZGVycyIsImF1dGhvcml6ZSIsImNyZWRlbnRpYWxzIiwicGFyc2VkQ3JlZGVudGlhbHMiLCJvYmplY3QiLCJlbWFpbCIsInN0cmluZyIsInBhc3N3b3JkIiwibWluIiwic2FmZVBhcnNlIiwic3VjY2VzcyIsImRhdGEiLCJ1c2VyIiwidXNlcnMiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsIm5hbWUiLCJyb2xlIiwicGhvbmUiLCJzdHJpcGVfY3VzdG9tZXJfaWQiLCJzdHJpcGVfc3Vic2NyaXB0aW9uX2lkIiwic3RyaXBlX3ByaWNlX2lkIiwic3RyaXBlX2N1cnJlbnRfcGVyaW9kX2VuZCIsImltYWdlIiwidG9rZW4iLCJjYWxsYmFja3MiLCJzZXNzaW9uIiwiand0IiwicGFnZXMiLCJzaWduSW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./auth.config.ts\n");

/***/ }),

/***/ "(rsc)/./auth.ts":
/*!*****************!*\
  !*** ./auth.ts ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getAuth: () => (/* binding */ getAuth)\n/* harmony export */ });\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/./node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/next */ \"(rsc)/./node_modules/next-auth/next/index.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _auth_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./auth.config */ \"(rsc)/./auth.config.ts\");\n\n\n\n\n\nif (!process.env.NEXTAUTH_SECRET) {\n    throw new Error(\"NEXTAUTH_SECRET must be set\");\n}\nconst authOptions = {\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_lib_db__WEBPACK_IMPORTED_MODULE_3__.db),\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60,\n        updateAge: 24 * 60 * 60\n    },\n    providers: _auth_config__WEBPACK_IMPORTED_MODULE_4__.authConfig.providers,\n    pages: _auth_config__WEBPACK_IMPORTED_MODULE_4__.authConfig.pages,\n    callbacks: {\n        async session ({ session, token }) {\n            if (session?.user) {\n                session.user = {\n                    ...session.user,\n                    id: token.id,\n                    name: token.name,\n                    email: token.email,\n                    role: token.role,\n                    phone: token.phone,\n                    stripe_customer_id: token.stripe_customer_id,\n                    stripe_subscription_id: token.stripe_subscription_id,\n                    stripe_price_id: token.stripe_price_id,\n                    stripe_current_period_end: token.stripe_current_period_end\n                };\n            }\n            // Verificação e atualização dos dados da sessão\n            if (token.id) {\n                try {\n                    const dbUser = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.users.findUnique({\n                        where: {\n                            id: token.id\n                        },\n                        select: {\n                            name: true,\n                            email: true,\n                            role: true\n                        }\n                    });\n                    if (dbUser && (dbUser.name !== token.name || dbUser.email !== token.email)) {\n                        session.user.name = dbUser.name;\n                        session.user.email = dbUser.email;\n                        session.user.role = dbUser.role === \"ADMIN\" ? \"admin\" : \"user\";\n                    }\n                } catch (error) {\n                    console.error(\"Erro ao verificar dados atualizados do usu\\xe1rio:\", error);\n                }\n            }\n            return session;\n        },\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.name = user.name;\n                token.email = user.email;\n                token.role = user.role;\n                token.phone = user.phone;\n                token.stripe_customer_id = user.stripe_customer_id;\n                token.stripe_subscription_id = user.stripe_subscription_id;\n                token.stripe_price_id = user.stripe_price_id;\n                token.stripe_current_period_end = user.stripe_current_period_end;\n            }\n            return token;\n        }\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_1___default()(authOptions));\nconst auth = (options)=>getAuth(options ?? {});\n// Função para obter a sessão atual\nasync function getAuth(options = {}) {\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_2__.getServerSession)(authOptions);\n    return session;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQyxVQUFrQkMsUUFBUUQsV0FBVyxDQUFDLEdBQUc7QUFFOUQsbUNBQW1DO0FBQzVCLGVBQWVDLFFBQVFELFVBQWUsQ0FBQyxDQUFDO0lBQzdDLE1BQU01QixVQUFVLE1BQU1ULGdFQUFnQkEsQ0FBQ087SUFDdkMsT0FBT0U7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmNvbnRyb2wvLi9hdXRoLnRzPzkyMzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQWRhcHRlciB9IGZyb20gXCJAYXV0aC9wcmlzbWEtYWRhcHRlclwiO1xyXG5pbXBvcnQgTmV4dEF1dGggZnJvbSBcIm5leHQtYXV0aFwiO1xyXG5pbXBvcnQgdHlwZSB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcclxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGgvbmV4dFwiO1xyXG5cclxuaW1wb3J0IHsgZGIgfSBmcm9tIFwiQC9saWIvZGJcIjtcclxuXHJcbmltcG9ydCB7IGF1dGhDb25maWcgfSBmcm9tIFwiLi9hdXRoLmNvbmZpZ1wiO1xyXG5cclxuaWYgKCFwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoXCJORVhUQVVUSF9TRUNSRVQgbXVzdCBiZSBzZXRcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xyXG4gIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIoZGIpIGFzIGFueSxcclxuICBzZXNzaW9uOiB7XHJcbiAgICBzdHJhdGVneTogXCJqd3RcIixcclxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcclxuICAgIHVwZGF0ZUFnZTogMjQgKiA2MCAqIDYwLCAvLyBGb3LDp2EgYXR1YWxpemHDp8OjbyBhIGNhZGEgMjQgaG9yYXNcclxuICB9LFxyXG4gIHByb3ZpZGVyczogYXV0aENvbmZpZy5wcm92aWRlcnMsXHJcbiAgcGFnZXM6IGF1dGhDb25maWcucGFnZXMsXHJcbiAgY2FsbGJhY2tzOiB7XHJcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xyXG4gICAgICBpZiAoc2Vzc2lvbj8udXNlcikge1xyXG4gICAgICAgIHNlc3Npb24udXNlciA9IHtcclxuICAgICAgICAgIC4uLnNlc3Npb24udXNlcixcclxuICAgICAgICAgIGlkOiB0b2tlbi5pZCBhcyBzdHJpbmcsXHJcbiAgICAgICAgICBuYW1lOiB0b2tlbi5uYW1lIGFzIHN0cmluZyxcclxuICAgICAgICAgIGVtYWlsOiB0b2tlbi5lbWFpbCBhcyBzdHJpbmcsXHJcbiAgICAgICAgICByb2xlOiB0b2tlbi5yb2xlIGFzIFwiYWRtaW5cIiB8IFwidXNlclwiLFxyXG4gICAgICAgICAgcGhvbmU6IHRva2VuLnBob25lIGFzIHN0cmluZyxcclxuICAgICAgICAgIHN0cmlwZV9jdXN0b21lcl9pZDogdG9rZW4uc3RyaXBlX2N1c3RvbWVyX2lkIGFzIHN0cmluZyB8IG51bGwsXHJcbiAgICAgICAgICBzdHJpcGVfc3Vic2NyaXB0aW9uX2lkOiB0b2tlbi5zdHJpcGVfc3Vic2NyaXB0aW9uX2lkIGFzIHN0cmluZyB8IG51bGwsXHJcbiAgICAgICAgICBzdHJpcGVfcHJpY2VfaWQ6IHRva2VuLnN0cmlwZV9wcmljZV9pZCBhcyBzdHJpbmcgfCBudWxsLFxyXG4gICAgICAgICAgc3RyaXBlX2N1cnJlbnRfcGVyaW9kX2VuZDpcclxuICAgICAgICAgICAgdG9rZW4uc3RyaXBlX2N1cnJlbnRfcGVyaW9kX2VuZCBhcyBEYXRlIHwgbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBWZXJpZmljYcOnw6NvIGUgYXR1YWxpemHDp8OjbyBkb3MgZGFkb3MgZGEgc2Vzc8Ojb1xyXG4gICAgICBpZiAodG9rZW4uaWQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZGJVc2VyID0gYXdhaXQgZGIudXNlcnMuZmluZFVuaXF1ZSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiB0b2tlbi5pZCBhcyBzdHJpbmcgfSxcclxuICAgICAgICAgICAgc2VsZWN0OiB7IG5hbWU6IHRydWUsIGVtYWlsOiB0cnVlLCByb2xlOiB0cnVlIH0sXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGRiVXNlciAmJlxyXG4gICAgICAgICAgICAoZGJVc2VyLm5hbWUgIT09IHRva2VuLm5hbWUgfHwgZGJVc2VyLmVtYWlsICE9PSB0b2tlbi5lbWFpbClcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIubmFtZSA9IGRiVXNlci5uYW1lO1xyXG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIuZW1haWwgPSBkYlVzZXIuZW1haWw7XHJcbiAgICAgICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gZGJVc2VyLnJvbGUgPT09IFwiQURNSU5cIiA/IFwiYWRtaW5cIiA6IFwidXNlclwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICBcIkVycm8gYW8gdmVyaWZpY2FyIGRhZG9zIGF0dWFsaXphZG9zIGRvIHVzdcOhcmlvOlwiLFxyXG4gICAgICAgICAgICBlcnJvcixcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2Vzc2lvbjtcclxuICAgIH0sXHJcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9KSB7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkO1xyXG4gICAgICAgIHRva2VuLm5hbWUgPSB1c2VyLm5hbWU7XHJcbiAgICAgICAgdG9rZW4uZW1haWwgPSB1c2VyLmVtYWlsO1xyXG4gICAgICAgIHRva2VuLnJvbGUgPSB1c2VyLnJvbGU7XHJcbiAgICAgICAgdG9rZW4ucGhvbmUgPSB1c2VyLnBob25lO1xyXG4gICAgICAgIHRva2VuLnN0cmlwZV9jdXN0b21lcl9pZCA9IHVzZXIuc3RyaXBlX2N1c3RvbWVyX2lkO1xyXG4gICAgICAgIHRva2VuLnN0cmlwZV9zdWJzY3JpcHRpb25faWQgPSB1c2VyLnN0cmlwZV9zdWJzY3JpcHRpb25faWQ7XHJcbiAgICAgICAgdG9rZW4uc3RyaXBlX3ByaWNlX2lkID0gdXNlci5zdHJpcGVfcHJpY2VfaWQ7XHJcbiAgICAgICAgdG9rZW4uc3RyaXBlX2N1cnJlbnRfcGVyaW9kX2VuZCA9IHVzZXIuc3RyaXBlX2N1cnJlbnRfcGVyaW9kX2VuZDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBOZXh0QXV0aChhdXRoT3B0aW9ucyk7XHJcbmV4cG9ydCBjb25zdCBhdXRoID0gKG9wdGlvbnM/OiBhbnkpID0+IGdldEF1dGgob3B0aW9ucyA/PyB7fSk7XHJcblxyXG4vLyBGdW7Dp8OjbyBwYXJhIG9idGVyIGEgc2Vzc8OjbyBhdHVhbFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aChvcHRpb25zOiBhbnkgPSB7fSkge1xyXG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcclxuICByZXR1cm4gc2Vzc2lvbjtcclxufVxyXG4iXSwibmFtZXMiOlsiUHJpc21hQWRhcHRlciIsIk5leHRBdXRoIiwiZ2V0U2VydmVyU2Vzc2lvbiIsImRiIiwiYXV0aENvbmZpZyIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiLCJFcnJvciIsImF1dGhPcHRpb25zIiwiYWRhcHRlciIsInNlc3Npb24iLCJzdHJhdGVneSIsIm1heEFnZSIsInVwZGF0ZUFnZSIsInByb3ZpZGVycyIsInBhZ2VzIiwiY2FsbGJhY2tzIiwidG9rZW4iLCJ1c2VyIiwiaWQiLCJuYW1lIiwiZW1haWwiLCJyb2xlIiwicGhvbmUiLCJzdHJpcGVfY3VzdG9tZXJfaWQiLCJzdHJpcGVfc3Vic2NyaXB0aW9uX2lkIiwic3RyaXBlX3ByaWNlX2lkIiwic3RyaXBlX2N1cnJlbnRfcGVyaW9kX2VuZCIsImRiVXNlciIsInVzZXJzIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwic2VsZWN0IiwiZXJyb3IiLCJjb25zb2xlIiwiand0Iiwic2VjcmV0IiwiYXV0aCIsIm9wdGlvbnMiLCJnZXRBdXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./lib/prisma.ts\");\n\nif (!_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma) {\n    throw new Error(\"Falha ao iniciar Prisma client\");\n}\nconst db = _prisma__WEBPACK_IMPORTED_MODULE_0__.prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0M7QUFFbEMsSUFBSSxDQUFDQSwyQ0FBTUEsRUFBRTtJQUNYLE1BQU0sSUFBSUMsTUFBTTtBQUNsQjtBQUVPLE1BQU1DLEtBQUtGLDJDQUFNQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmluY29udHJvbC8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuL3ByaXNtYVwiO1xyXG5cclxuaWYgKCFwcmlzbWEpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoXCJGYWxoYSBhbyBpbmljaWFyIFByaXNtYSBjbGllbnRcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBkYiA9IHByaXNtYTtcclxuIl0sIm5hbWVzIjpbInByaXNtYSIsIkVycm9yIiwiZGIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prismaClientSingleton = ()=>{\n    return new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n        log: [\n            \"error\"\n        ]\n    });\n};\nconst prisma = globalThis.prisma ?? prismaClientSingleton();\nif (true) {\n    globalThis.prisma = prisma;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUU5QyxNQUFNQyx3QkFBd0I7SUFDNUIsT0FBTyxJQUFJRCx3REFBWUEsQ0FBQztRQUN0QkUsS0FBSztZQUFDO1NBQVE7SUFDaEI7QUFDRjtBQU1BLE1BQU1DLFNBQVNDLFdBQVdELE1BQU0sSUFBSUY7QUFFcEMsSUFBSUksSUFBcUMsRUFBRTtJQUN6Q0QsV0FBV0QsTUFBTSxHQUFHQTtBQUN0QjtBQUVrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbmNvbnRyb2wvLi9saWIvcHJpc21hLnRzPzk4MjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XHJcblxyXG5jb25zdCBwcmlzbWFDbGllbnRTaW5nbGV0b24gPSAoKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcmlzbWFDbGllbnQoe1xyXG4gICAgbG9nOiBbXCJlcnJvclwiXSxcclxuICB9KTtcclxufTtcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICB2YXIgcHJpc21hOiB1bmRlZmluZWQgfCBSZXR1cm5UeXBlPHR5cGVvZiBwcmlzbWFDbGllbnRTaW5nbGV0b24+O1xyXG59XHJcblxyXG5jb25zdCBwcmlzbWEgPSBnbG9iYWxUaGlzLnByaXNtYSA/PyBwcmlzbWFDbGllbnRTaW5nbGV0b24oKTtcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcclxuICBnbG9iYWxUaGlzLnByaXNtYSA9IHByaXNtYTtcclxufVxyXG5cclxuZXhwb3J0IHsgcHJpc21hIH07XHJcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWFDbGllbnRTaW5nbGV0b24iLCJsb2ciLCJwcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/zod","vendor-chunks/@opentelemetry","vendor-chunks/@babel","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/@auth","vendor-chunks/oidc-token-hash","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftransactions%2Froute&page=%2Fapi%2Ftransactions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftransactions%2Froute.ts&appDir=C%3A%5Cwww%5Cfincontrol-web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cwww%5Cfincontrol-web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();